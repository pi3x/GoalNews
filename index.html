<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GoalNews - Foot- & Fu√üballnews</title>

<!-- Favicon -->
<link rel="icon" href="https://i.ibb.co/21R6p75W/Logo-1.jpg" type="image/jpeg">
<link rel="stylesheet" href="style.css">

<!-- PWA -->
<meta name="theme-color" content="#1db954">
<link rel="apple-touch-icon" href="https://i.ibb.co/21R6p75W/Logo-1.jpg">
<link rel="manifest" href="manifest.json">

<style>
body { font-family: 'Poppins', sans-serif; background:#0f0f0f; color:#eee; text-align:center; margin:0; }
h2 { margin:20px 0; color:#1db954; }

/* Tabelle Live Spiele */
.matches-table { width:95%; max-width:1200px; margin:20px auto; border-collapse: collapse; }
.matches-table th, .matches-table td { border:1px solid #444; padding:15px 20px; text-align:center; transition: all 0.5s ease; position: relative; font-size:1rem; }
.matches-table th { background:#1db954; color:#000; }
.goal-animation { background:#00ff00; color:#000; font-weight:bold; transform:scale(1.2); animation:pop 0.5s forwards; }
.over-game { text-decoration:line-through; opacity:0.6; transition:all 0.5s ease; }
@keyframes pop { 0%{transform:scale(1);} 50%{transform:scale(1.5);} 100%{transform:scale(1.2);} }

#nextGameCountdown { font-size:1.5rem; margin:15px 0; color:#1db954; }
footer { margin-top:30px; padding:15px; background:#111; color:#eee; }

/* Halbzeit Label */
.half-time-animation {
  position:absolute; top:5px; right:5px;
  background:rgba(29,185,84,0.9); color:#000;
  font-weight:bold; padding:2px 8px; border-radius:6px;
  font-size:0.8rem; pointer-events:none;
  animation:halftimePulse 1.5s infinite alternate;
}
@keyframes halftimePulse {
  0%{transform:scale(1);opacity:0.8;}
  50%{transform:scale(1.2);opacity:1;}
  100%{transform:scale(1);opacity:0.9;}
}

/* Uhr */
.match-timer { display:block; margin-top:8px; font-size:0.9rem; color:#1db954; }

/* VAR Kommentar */
.var-comment {
  display:block; margin-top:5px;
  background:linear-gradient(135deg,#FFD700,#FFEA70);
  color:#000; font-weight:bold; padding:4px 12px;
  border-radius:8px; font-size:0.9rem;
  opacity:0; transform:translateY(20px) scale(0.8);
  animation:varCool 1.5s ease forwards, varGlow 2s ease-in-out infinite alternate;
  text-align:center;
}
@keyframes varCool {
  0%{opacity:0;transform:translateY(20px)scale(0.8);}
  50%{opacity:1;transform:translateY(-5px)scale(1.1);}
  70%{transform:translateY(0)scale(1);}
  100%{opacity:1;transform:translateY(0)scale(1);}
}
@keyframes varGlow {
  0%{box-shadow:0 0 5px rgba(255,223,0,0.6);}
  50%{box-shadow:0 0 15px rgba(255,255,200,0.9);}
  100%{box-shadow:0 0 5px rgba(255,223,0,0.6);}
}
</style>
</head>

<body>
<!-- Breaking News -->
<div id="breakingNews">
  <div class="news-wrapper">
    <span class="news-item">Deutschland nominiert Kader f√ºr November-L√§nderspiele, Leroy San√© zur√ºck</span>
    <span class="news-item">Thomas Tuchel offen f√ºr England-Verl√§ngerung √ºber WM 2026 hinaus</span>
    <span class="news-item">Aston Villa vs. Maccabi Tel Aviv: 10 Festnahmen wegen Ausschreitungen</span>
    <span class="news-item">NFL spielt erstes Saisonspiel in Berlin Colts vs. Falcons</span>
    <span class="news-item">Green Bay Packers erhalten Marketingrechte f√ºr Deutschland, Irland & UK</span>
  </div>
</div>

<!-- Header -->
<header class="navbar">
  <div class="logo">GoalNews</div>
  <input type="checkbox" id="menu-toggle" class="menu-toggle">
  <label for="menu-toggle" class="hamburger-icon">
    <div class="bar"></div><div class="bar"></div><div class="bar"></div>
  </label>
  <ul class="nav-menu">
    <li><a href="football.html">Am. Football</a></li>
    <li><a href="votings.html">Abstimmungen</a></li>
    <li><a href="login.html">Login/Registrieren</a></li>
    <li><a href="bundesliga.html">Bundesliga</a></li>
    <li><a href="2liga.html">2. Bundesliga</a></li>
    <li><a href="comments.html">Kommentar Forum</a></li>
    <li><a href="lastgameday.html">Letzter Spieltag</a></li>
    <li><a href="best player of the day.html">Spieler der Woche</a></li>
    <li><a href="feedback.html">Helfen Sie uns!</a></li>
    <li><a href="https://whatsapp.com/channel/0029Vb7PDwN8V0toB3ATWZ1Y">WhatsApp</a></li>
    <li><a href="https://www.youtube.com/@Goalnewsde">YouTube</a></li>
  </ul>
</header>

<!-- Countdown -->
<div class="countdown-section">
  <h2>‚è±Ô∏è 11. Spieltag startet in:</h2>
  <div id="countdown">lade...</div>
</div>
<!-- üèÜ Aktueller Bundesliga-Spieltag -->
<div class="matches" style="text-align:center; margin-top:40px;">
  <h2 style="color:#1db954;">üèÜ Bundesliga-Spieltag 11</h2>
  <h3 style="color:#fff; margin-bottom:20px;">11. Spieltag (21. - 23. November)</h3>

  <div style="color:#eee;">
    <h4 style="color:#1db954;">Freitag:</h4>
    <p>Mainz 05 20:30 TSG Hoffenheim</p>

    <h4 style="color:#1db954;">Samstag:</h4>
    <p>
      Bayern M√ºnchen 15:30 SC Freiburg<br>
      Union Berlin 15:30 Bayern M√ºnchen<br>
      TSG Hoffenheim 15:30 RB Leipzig<br>
      Hamburger SV 15:30 Bor. Dortmund<br>
      <strong style="color: gold;">Topspiel: Bor. M√∂nchengladbach 18:30 1. FC K√∂ln</strong>
    </p>

    <h4 style="color:#1db954;">Sonntag:</h4>
    <p>
      SC Freiburg 15:30 St. Pauli<br>
      VfB Stuttgart 17:30 FC Augsburg<br>
      Eintracht Frankfurt 19:30 Mainz 05
    </p>
  </div>
</div>


<!-- üî• LIVE SPIELE -->
<section id="liveGamesSection">
  <h2>Live Spiele</h2>
  <p>Alle Spiele sind live und im Gange</p>
  <p>Durchgestrichene Spiele sind beendet</p>

  <table class="matches-table">
    <thead>
      <tr><th>Heimteam</th><th>Gastteam</th><th>Ergebnis / Zeit</th></tr>
    </thead>
    <tbody id="tableBody">
      <tr><td colspan="3">Lade Spiele...</td></tr>
    </tbody>
  </table>
</section>

<!-- Footer -->
<footer>
  GoalNews ¬© 2025 ‚Äì Don‚Äôt steal our stuff.
  <a href="mailto:info@goalnewsde.de">Email</a> |
  <a href="agb.html">Datenschutz</a> |
  <a href="security.html">Sicherheit</a> |
  <a href="Impressum.html">Impressum</a>
</footer>

<!-- Firebase Live Games -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-app.js";
import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/11.0.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBmIcdFtxv4jBJKdiAkEiwnkQ8yRwiG_0w",
  authDomain: "goalnewsde-community.firebaseapp.com",
  projectId: "goalnewsde-community",
  storageBucket: "goalnewsde-community.firebasestorage.app",
  messagingSenderId: "134523022055",
  appId: "1:134523022055:web:4f35ed7812d06e4fb55042"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const tableBody = document.getElementById("tableBody");
const matchTimers = new Map();

function addHalfTimeAnimation(td) {
  if (!td.querySelector('.half-time-animation')) {
    const overlay = document.createElement("div");
    overlay.className = "half-time-animation";
    overlay.textContent = "Halbzeit!";
    td.appendChild(overlay);
  }
}
function removeHalfTimeAnimation(td) {
  const overlay = td.querySelector('.half-time-animation');
  if (overlay) overlay.remove();
}
function formatTime(ms) {
  const totalSeconds = Math.floor(ms/1000);
  const minutes = Math.floor(totalSeconds/60);
  const seconds = totalSeconds % 60;
  return `${minutes}:${seconds.toString().padStart(2,"0")}`;
}
function startMatchTimer(id, td, startTime, halfTime) {
  if (matchTimers.has(id)) clearInterval(matchTimers.get(id));
  let paused = halfTime;
  const timerEl = document.createElement("span");
  timerEl.className = "match-timer";
  td.appendChild(timerEl);
  const interval = setInterval(() => {
    if (!paused) {
      const elapsed = Date.now()-startTime;
      if (elapsed < 90*60*1000) timerEl.textContent = `‚è±Ô∏è ${formatTime(elapsed)}`;
      else { timerEl.textContent = "üïõ 90:00"; clearInterval(interval); }
    } else timerEl.textContent = "‚è∏Ô∏è Halbzeit";
  },1000);
  matchTimers.set(id, interval);
}
function showVARComment(td, comment) {
  let varDiv = td.querySelector('.var-comment');
  if (!varDiv) {
    varDiv = document.createElement("span");
    varDiv.className = "var-comment";
    td.appendChild(varDiv);
  }
  varDiv.textContent = comment;
  varDiv.style.opacity = 1;
  setTimeout(()=>{ varDiv.style.opacity=0; },5000);
}

async function initLiveGames() {
  const colRef = collection(db, "liveGames");
  onSnapshot(colRef, (snapshot) => {
    tableBody.innerHTML = "";
    if (snapshot.empty) {
      tableBody.innerHTML = "<tr><td colspan='3'>Keine aktuellen Spiele</td></tr>";
      return;
    }
    snapshot.forEach(doc => {
      const data = doc.data();
      if (doc.id === "next_game") return;
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td class="${data.over?'over-game':''}">${data.home || ""}</td>
        <td class="${data.over?'over-game':''}">${data.away || ""}</td>
        <td class="${data.goal?'goal-animation':''} ${data.over?'over-game':''}">${data.score || ""}</td>
      `;
      tableBody.appendChild(tr);
      const td = tr.querySelector("td:nth-child(3)");
      if (data.halfTime) addHalfTimeAnimation(td); else removeHalfTimeAnimation(td);
      if (data.startTime) startMatchTimer(doc.id, td, data.startTime.toDate().getTime(), data.halfTime);
      if (data.varComment) showVARComment(td, data.varComment);
    });
  });
}
initLiveGames();
</script>

<!-- Countdown -->
<script>
const matchDate = new Date("November 21, 2025 20:30:00").getTime();
const countdownEl = document.getElementById("countdown");
setInterval(() => {
  const now = new Date().getTime();
  const diff = matchDate - now;
  if (diff < 0) { countdownEl.textContent = "Anpfiff!"; return; }
  const d = Math.floor(diff/(1000*60*60*24));
  const h = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const m = Math.floor((diff%(1000*60*60))/(1000*60));
  const s = Math.floor((diff%(1000*60))/1000);
  countdownEl.textContent = `${d}d ${h}h ${m}m ${s}s`;
},1000);
</script>

</body>
</html>
